{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst NullDependency = require(\"./NullDependency\");\n\nclass HarmonyInitDependency extends NullDependency {\n  constructor(originModule) {\n    super();\n    this.originModule = originModule;\n  }\n\n  get type() {\n    return \"harmony init\";\n  }\n\n}\n\nmodule.exports = HarmonyInitDependency;\nHarmonyInitDependency.Template = class HarmonyInitDependencyTemplate {\n  apply(dep, source, runtime, dependencyTemplates) {\n    const module = dep.originModule;\n    const list = [];\n\n    for (const dependency of module.dependencies) {\n      const template = dependencyTemplates.get(dependency.constructor);\n\n      if (template && typeof template.harmonyInit === \"function\" && typeof template.getHarmonyInitOrder === \"function\") {\n        const order = template.getHarmonyInitOrder(dependency);\n\n        if (!isNaN(order)) {\n          list.push({\n            order,\n            listOrder: list.length,\n            dependency,\n            template\n          });\n        }\n      }\n    }\n\n    list.sort((a, b) => {\n      const x = a.order - b.order;\n      if (x) return x;\n      return a.listOrder - b.listOrder;\n    });\n\n    for (const item of list) {\n      item.template.harmonyInit(item.dependency, source, runtime, dependencyTemplates);\n    }\n  }\n\n};","map":{"version":3,"sources":["E:/Users/cnki/source/repos/ab29693295/MeetAdmin/node_modules/webpack/lib/dependencies/HarmonyInitDependency.js"],"names":["NullDependency","require","HarmonyInitDependency","constructor","originModule","type","module","exports","Template","HarmonyInitDependencyTemplate","apply","dep","source","runtime","dependencyTemplates","list","dependency","dependencies","template","get","harmonyInit","getHarmonyInitOrder","order","isNaN","push","listOrder","length","sort","a","b","x","item"],"mappings":"AAAA;;;;AAIA;;AAEA,MAAMA,cAAc,GAAGC,OAAO,CAAC,kBAAD,CAA9B;;AAEA,MAAMC,qBAAN,SAAoCF,cAApC,CAAmD;AAClDG,EAAAA,WAAW,CAACC,YAAD,EAAe;AACzB;AACA,SAAKA,YAAL,GAAoBA,YAApB;AACA;;AAED,MAAIC,IAAJ,GAAW;AACV,WAAO,cAAP;AACA;;AARiD;;AAWnDC,MAAM,CAACC,OAAP,GAAiBL,qBAAjB;AAEAA,qBAAqB,CAACM,QAAtB,GAAiC,MAAMC,6BAAN,CAAoC;AACpEC,EAAAA,KAAK,CAACC,GAAD,EAAMC,MAAN,EAAcC,OAAd,EAAuBC,mBAAvB,EAA4C;AAChD,UAAMR,MAAM,GAAGK,GAAG,CAACP,YAAnB;AACA,UAAMW,IAAI,GAAG,EAAb;;AACA,SAAK,MAAMC,UAAX,IAAyBV,MAAM,CAACW,YAAhC,EAA8C;AAC7C,YAAMC,QAAQ,GAAGJ,mBAAmB,CAACK,GAApB,CAAwBH,UAAU,CAACb,WAAnC,CAAjB;;AACA,UACCe,QAAQ,IACR,OAAOA,QAAQ,CAACE,WAAhB,KAAgC,UADhC,IAEA,OAAOF,QAAQ,CAACG,mBAAhB,KAAwC,UAHzC,EAIE;AACD,cAAMC,KAAK,GAAGJ,QAAQ,CAACG,mBAAT,CAA6BL,UAA7B,CAAd;;AACA,YAAI,CAACO,KAAK,CAACD,KAAD,CAAV,EAAmB;AAClBP,UAAAA,IAAI,CAACS,IAAL,CAAU;AACTF,YAAAA,KADS;AAETG,YAAAA,SAAS,EAAEV,IAAI,CAACW,MAFP;AAGTV,YAAAA,UAHS;AAITE,YAAAA;AAJS,WAAV;AAMA;AACD;AACD;;AAEDH,IAAAA,IAAI,CAACY,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACnB,YAAMC,CAAC,GAAGF,CAAC,CAACN,KAAF,GAAUO,CAAC,CAACP,KAAtB;AACA,UAAIQ,CAAJ,EAAO,OAAOA,CAAP;AACP,aAAOF,CAAC,CAACH,SAAF,GAAcI,CAAC,CAACJ,SAAvB;AACA,KAJD;;AAMA,SAAK,MAAMM,IAAX,IAAmBhB,IAAnB,EAAyB;AACxBgB,MAAAA,IAAI,CAACb,QAAL,CAAcE,WAAd,CACCW,IAAI,CAACf,UADN,EAECJ,MAFD,EAGCC,OAHD,EAICC,mBAJD;AAMA;AACD;;AArCmE,CAArE","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst NullDependency = require(\"./NullDependency\");\n\nclass HarmonyInitDependency extends NullDependency {\n\tconstructor(originModule) {\n\t\tsuper();\n\t\tthis.originModule = originModule;\n\t}\n\n\tget type() {\n\t\treturn \"harmony init\";\n\t}\n}\n\nmodule.exports = HarmonyInitDependency;\n\nHarmonyInitDependency.Template = class HarmonyInitDependencyTemplate {\n\tapply(dep, source, runtime, dependencyTemplates) {\n\t\tconst module = dep.originModule;\n\t\tconst list = [];\n\t\tfor (const dependency of module.dependencies) {\n\t\t\tconst template = dependencyTemplates.get(dependency.constructor);\n\t\t\tif (\n\t\t\t\ttemplate &&\n\t\t\t\ttypeof template.harmonyInit === \"function\" &&\n\t\t\t\ttypeof template.getHarmonyInitOrder === \"function\"\n\t\t\t) {\n\t\t\t\tconst order = template.getHarmonyInitOrder(dependency);\n\t\t\t\tif (!isNaN(order)) {\n\t\t\t\t\tlist.push({\n\t\t\t\t\t\torder,\n\t\t\t\t\t\tlistOrder: list.length,\n\t\t\t\t\t\tdependency,\n\t\t\t\t\t\ttemplate\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlist.sort((a, b) => {\n\t\t\tconst x = a.order - b.order;\n\t\t\tif (x) return x;\n\t\t\treturn a.listOrder - b.listOrder;\n\t\t});\n\n\t\tfor (const item of list) {\n\t\t\titem.template.harmonyInit(\n\t\t\t\titem.dependency,\n\t\t\t\tsource,\n\t\t\t\truntime,\n\t\t\t\tdependencyTemplates\n\t\t\t);\n\t\t}\n\t}\n};\n"]},"metadata":{},"sourceType":"script"}
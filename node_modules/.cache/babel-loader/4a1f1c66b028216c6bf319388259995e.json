{"ast":null,"code":"import _classCallCheck from\"E:\\\\Users\\\\cnki\\\\source\\\\repos\\\\ab29693295\\\\MeetAdmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\Users\\\\cnki\\\\source\\\\repos\\\\ab29693295\\\\MeetAdmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\Users\\\\cnki\\\\source\\\\repos\\\\ab29693295\\\\MeetAdmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\Users\\\\cnki\\\\source\\\\repos\\\\ab29693295\\\\MeetAdmin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";/*登录管理*/import React,{Component}from\"react\";import{Redirect,Route}from'react-router-dom';import{getStorage}from'../common/js/tools';export default(function(Comp){return/*#__PURE__*/function(_Component){_inherits(ConvertComp,_Component);var _super=_createSuper(ConvertComp);function ConvertComp(){var _this;_classCallCheck(this,ConvertComp);_this=_super.call(this);_this.state={login:false};return _this;}_createClass(ConvertComp,[{key:\"componentDidMount\",value:function componentDidMount(){if(getStorage('isLogin')){this.setState({login:true});}}},{key:\"render\",value:function render(){if(getStorage('isLogin')){return/*#__PURE__*/React.createElement(Comp,this.props);}else{return/*#__PURE__*/React.createElement(Redirect,{to:{pathname:'/login',search:\"?returnUrl=\"+this.props.location.pathname,state:this.props.location.pathname},from:\"/\"});}}}]);return ConvertComp;}(Component);});","map":{"version":3,"sources":["E:/Users/cnki/source/repos/ab29693295/MeetAdmin/src/route/login.js"],"names":["React","Component","Redirect","Route","getStorage","Comp","state","login","setState","props","pathname","search","location"],"mappings":"orBAAA,QACA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,QAAR,CAAkBC,KAAlB,KAA8B,kBAA9B,CACA,OAAQC,UAAR,KAAyB,oBAAzB,CACA,eAAe,SAAAC,IAAI,CAAI,CACrB,+GACM,sBAAc,6CACV,wBACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,KADE,CAAb,CAFU,aAKb,CANP,qFAQ0B,CAChB,GAAIH,UAAU,CAAC,SAAD,CAAd,CAA2B,CACvB,KAAKI,QAAL,CAAc,CACVD,KAAK,CAAE,IADG,CAAd,EAGH,CACJ,CAdP,uCAgBe,CAEL,GAAIH,UAAU,CAAC,SAAD,CAAd,CAA2B,CACvB,mBAAO,oBAAC,IAAD,CAAU,KAAKK,KAAf,CAAP,CACH,CAFD,IAEQ,CACJ,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAE,CACjBC,QAAQ,CAAC,QADQ,CAEjBC,MAAM,CAAE,cAAc,KAAKF,KAAL,CAAWG,QAAX,CAAoBF,QAFzB,CAGjBJ,KAAK,CAAE,KAAKG,KAAL,CAAWG,QAAX,CAAoBF,QAHV,CAAd,CAIJ,IAAI,CAAC,GAJD,EAAP,CAKH,CACJ,CA3BP,yBAAkCT,SAAlC,EA8BD,CA/BD","sourcesContent":["/*登录管理*/\r\nimport React, {Component} from \"react\";\r\nimport {Redirect, Route} from 'react-router-dom'\r\nimport {getStorage} from '../common/js/tools'\r\nexport default Comp => {\r\n  return  class ConvertComp extends Component {\r\n        constructor() {\r\n            super();\r\n            this.state = {\r\n                login: false\r\n            };\r\n        }\r\n\r\n        componentDidMount() {\r\n            if (getStorage('isLogin')) {\r\n                this.setState({\r\n                    login: true\r\n                })\r\n            }\r\n        }\r\n\r\n        render() {\r\n\r\n            if (getStorage('isLogin')) {\r\n                return <Comp {...this.props}   />;\r\n            } else  {\r\n                return <Redirect to={{\r\n                    pathname:'/login',\r\n                    search: \"?returnUrl=\"+this.props.location.pathname,\r\n                    state: this.props.location.pathname,\r\n                }} from='/' />\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"E:\\\\Users\\\\cnki\\\\source\\\\repos\\\\ab29693295\\\\MeetAdmin\\\\src\\\\view\\\\Login\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport { message, Button, Input, Form, Checkbox, Spin } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport styles from './css/index.module.css';\nimport axios from '../../axios';\nimport { setStorage } from '../../common/js/tools';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false\n    };\n    this.submitFinish = this.submitFinish.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n    localStorage.clear();\n  } //验证通过\n\n\n  submitFinish(value) {\n    let returnUrl = this.props.location.state ? this.props.location.state : '/';\n    axios.userLogin({\n      userName: value.username,\n      PassWord: value.password\n    }).then(res => {\n      console.log(res);\n\n      if (res.success) {\n        setStorage('isLogin', '1', new Date().getTime() + 30 * 60 * 1000);\n        this.props.history.push({\n          pathname: returnUrl\n        });\n      } else {\n        message.error(res.msg);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.loginWrap,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      name: \"normal_login\",\n      className: styles.loginForm,\n      initialValues: {\n        remember: true\n      },\n      onFinish: this.submitFinish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Spin, {\n      spinning: this.state.loading,\n      tip: \"\\u52A0\\u8F7D\\u4E2D...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"username\",\n      rules: [{\n        required: true,\n        message: '请输入用户名!'\n      }],\n      className: styles.formItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      prefix: /*#__PURE__*/React.createElement(UserOutlined, {\n        className: \"site-form-item-icon\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 44\n        }\n      }),\n      autoComplete: \"off\",\n      placeholder: \"\\u7528\\u6237\\u540D/\\u624B\\u673A\\u53F7/\\u90AE\\u7BB1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"password\",\n      rules: [{\n        required: true,\n        message: '请输入密码！'\n      }],\n      className: styles.formItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      prefix: /*#__PURE__*/React.createElement(LockOutlined, {\n        className: \"site-form-item-icon\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 41\n        }\n      }),\n      type: \"password\",\n      placeholder: \"\\u5BC6\\u7801\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"remember\",\n      valuePropName: \"checked\",\n      noStyle: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, \"\\u8BB0\\u4F4F\\u5BC6\\u7801\")), /*#__PURE__*/React.createElement(\"a\", {\n      className: styles.formSetting,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, \"\\u5FD8\\u8BB0\\u5BC6\\u7801\")), /*#__PURE__*/React.createElement(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: styles.formButton,\n      htmlType: \"submit\",\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, \"\\u767B\\u5F55\")))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["E:/Users/cnki/source/repos/ab29693295/MeetAdmin/src/view/Login/index.jsx"],"names":["React","Component","message","Button","Input","Form","Checkbox","Spin","UserOutlined","LockOutlined","styles","axios","setStorage","Login","constructor","props","state","loading","submitFinish","bind","componentDidMount","console","log","localStorage","clear","value","returnUrl","location","userLogin","userName","username","PassWord","password","then","res","success","Date","getTime","history","push","pathname","error","msg","render","loginWrap","loginForm","remember","required","formItem","color","formSetting","formButton"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {message,Button, Input, Form, Checkbox, Spin} from 'antd'\r\nimport {UserOutlined, LockOutlined} from '@ant-design/icons';\r\nimport styles from './css/index.module.css'\r\nimport axios from '../../axios'\r\nimport {setStorage} from '../../common/js/tools'\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            loading: false\r\n        }\r\n        this.submitFinish = this.submitFinish.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n        localStorage.clear()\r\n    }\r\n\r\n    //验证通过\r\n    submitFinish(value) {\r\n        let returnUrl=this.props.location.state?this.props.location.state:'/'\r\n        axios.userLogin({userName:value.username,PassWord:value.password}).then((res)=>{\r\n            console.log(res)\r\n            if(res.success){\r\n                setStorage('isLogin','1',new Date().getTime()+30*60*1000);\r\n                this.props.history.push({\r\n                    pathname: returnUrl\r\n                })\r\n            }else{\r\n                message.error(res.msg);\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={styles.loginWrap}>\r\n                <Form\r\n                    name=\"normal_login\"\r\n                    className={styles.loginForm}\r\n                    initialValues={{remember: true}}\r\n                    onFinish={this.submitFinish}\r\n                >\r\n                    <Spin\r\n                        spinning={this.state.loading}\r\n                        tip='加载中...'\r\n                    >\r\n                        <Form.Item\r\n                            name=\"username\"\r\n                            rules={[{required: true, message: '请输入用户名!'}]}\r\n                            className={styles.formItem}\r\n                        >\r\n                            <Input prefix={<UserOutlined className=\"site-form-item-icon\"\r\n                                                         style={{color: 'rgba(0,0,0,.25)'}}/>} autoComplete=\"off\"\r\n                                   placeholder=\"用户名/手机号/邮箱\"/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"password\"\r\n                            rules={[{required: true, message: '请输入密码！'}]}\r\n                            className={styles.formItem}\r\n                        >\r\n                            <Input\r\n                                prefix={<LockOutlined className=\"site-form-item-icon\"\r\n                                                      style={{color: 'rgba(0,0,0,.25)'}}/>}\r\n                                type=\"password\"\r\n                                placeholder=\"密码\"\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Form.Item name='remember' valuePropName=\"checked\" noStyle>\r\n                                <Checkbox>记住密码</Checkbox>\r\n                            </Form.Item>\r\n                            <a className={styles.formSetting}>忘记密码</a>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            <Button\r\n                                className={styles.formButton}\r\n                                htmlType='submit'\r\n                                type='primary'\r\n                            >\r\n                                登录\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Spin>\r\n                </Form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}
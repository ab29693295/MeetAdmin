{"ast":null,"code":"var path = require('path');\n\nmodule.exports = function (basedir, relfiles) {\n  if (relfiles) {\n    var files = relfiles.map(function (r) {\n      return path.resolve(basedir, r);\n    });\n  } else {\n    var files = basedir;\n  }\n\n  var res = files.slice(1).reduce(function (ps, file) {\n    if (!file.match(/^([A-Za-z]:)?\\/|\\\\/)) {\n      throw new Error('relative path without a basedir');\n    }\n\n    var xs = file.split(/\\/+|\\\\+/);\n\n    for (var i = 0; ps[i] === xs[i] && i < Math.min(ps.length, xs.length); i++);\n\n    return ps.slice(0, i);\n  }, files[0].split(/\\/+|\\\\+/)); // Windows correctly handles paths with forward-slashes\n\n  return res.length > 1 ? res.join('/') : '/';\n};","map":{"version":3,"sources":["E:/Users/cnki/source/repos/ab29693295/MeetAdmin/node_modules/commondir/index.js"],"names":["path","require","module","exports","basedir","relfiles","files","map","r","resolve","res","slice","reduce","ps","file","match","Error","xs","split","i","Math","min","length","join"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,OAAV,EAAmBC,QAAnB,EAA6B;AAC1C,MAAIA,QAAJ,EAAc;AACV,QAAIC,KAAK,GAAGD,QAAQ,CAACE,GAAT,CAAa,UAAUC,CAAV,EAAa;AAClC,aAAOR,IAAI,CAACS,OAAL,CAAaL,OAAb,EAAsBI,CAAtB,CAAP;AACH,KAFW,CAAZ;AAGH,GAJD,MAKK;AACD,QAAIF,KAAK,GAAGF,OAAZ;AACH;;AAED,MAAIM,GAAG,GAAGJ,KAAK,CAACK,KAAN,CAAY,CAAZ,EAAeC,MAAf,CAAsB,UAAUC,EAAV,EAAcC,IAAd,EAAoB;AAChD,QAAI,CAACA,IAAI,CAACC,KAAL,CAAW,oBAAX,CAAL,EAAuC;AACnC,YAAM,IAAIC,KAAJ,CAAU,iCAAV,CAAN;AACH;;AAED,QAAIC,EAAE,GAAGH,IAAI,CAACI,KAAL,CAAW,SAAX,CAAT;;AACA,SACI,IAAIC,CAAC,GAAG,CADZ,EAEIN,EAAE,CAACM,CAAD,CAAF,KAAUF,EAAE,CAACE,CAAD,CAAZ,IAAmBA,CAAC,GAAGC,IAAI,CAACC,GAAL,CAASR,EAAE,CAACS,MAAZ,EAAoBL,EAAE,CAACK,MAAvB,CAF3B,EAGIH,CAAC,EAHL,CAIC;;AACD,WAAON,EAAE,CAACF,KAAH,CAAS,CAAT,EAAYQ,CAAZ,CAAP;AACH,GAZS,EAYPb,KAAK,CAAC,CAAD,CAAL,CAASY,KAAT,CAAe,SAAf,CAZO,CAAV,CAV0C,CAwB1C;;AACA,SAAOR,GAAG,CAACY,MAAJ,GAAa,CAAb,GAAiBZ,GAAG,CAACa,IAAJ,CAAS,GAAT,CAAjB,GAAiC,GAAxC;AACH,CA1BD","sourcesContent":["var path = require('path');\n\nmodule.exports = function (basedir, relfiles) {\n    if (relfiles) {\n        var files = relfiles.map(function (r) {\n            return path.resolve(basedir, r);\n        });\n    }\n    else {\n        var files = basedir;\n    }\n    \n    var res = files.slice(1).reduce(function (ps, file) {\n        if (!file.match(/^([A-Za-z]:)?\\/|\\\\/)) {\n            throw new Error('relative path without a basedir');\n        }\n        \n        var xs = file.split(/\\/+|\\\\+/);\n        for (\n            var i = 0;\n            ps[i] === xs[i] && i < Math.min(ps.length, xs.length);\n            i++\n        );\n        return ps.slice(0, i);\n    }, files[0].split(/\\/+|\\\\+/));\n    \n    // Windows correctly handles paths with forward-slashes\n    return res.length > 1 ? res.join('/') : '/'\n};\n"]},"metadata":{},"sourceType":"script"}